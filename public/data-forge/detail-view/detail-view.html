

<fieldset>
    <legend>{{$ctrl.title}}</legend>


        <form class="form-horizontal" name="form" novalidate>

            <div class="form-group">
                <div class="col-sm-12">
                    <div class="btn-group" ng-show="isInputEnabled()">
                        <button class="btn btn-primary nutri-btn" ng-click="submitItem(form.$valid)" type="submit">Save</button>
                        <button class="btn btn-primary nutri-btn" ng-click="handleCancelClick()" type="reset">Cancel</button>
                    </div>
                    <div class="btn-group" ng-hide="isInputEnabled()">
                        <button class="btn btn-primary nutri-btn" ng-if="!item" ng-click="handleNewClick()">New</button>
                        <button class="btn btn-primary nutri-btn" ng-if="item" ng-click="handleEditClick()">Edit</button>
                    </div>
                </div>
            </div>

            <div ng-repeat="(p, f) in fields">
                <div class="form-group">
                    <label class="col-sm-{{firstColumnWidth()}} control-label">{{f.field}}</label>
                    <div class="col-sm-{{secondColumnWidth()}}">
                        <div style="position: relative; top: 7px; left: 13px" ng-show="whenShowLabel(p)" ng-bind="displayValue(p)"></div>
                        <input name="{{p}}" class="form-control" ng-show="whenShowInput(p)" ng-if="doesInputRender(p)" type="{{f.type || 'text'}}" step="{{f.step || ''}}" ng-model="item[p]" ng-change="handleModelChange()" validate="{{p}}">
                        <select name="{{p}}" class="form-control" ng-show="whenShowSelect(p)" ng-if="doesSelectRender(p)" ng-model="item[p]" ng-options="o for o in f.type" ng-change="handleModelChange()">

                        </select>
                    </div>
                    <p class="col-sm-offset-4 col-sm-8 help-block " ng-repeat="v in resolveValidators(p)" ng-show="(form.$submitted || form[p].$touched) && form[p].$error[v.validator]">{{v.message}}</p>
                </div>
            </div>
        </form>

</fieldset>